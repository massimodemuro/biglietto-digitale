<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crea il tuo Biglietto Digitale - Il TrovaLibri</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root { --blu-news: #003366; --grigio-testo: #333; }
        body { font-family: 'Helvetica Neue', Arial, sans-serif; background-color: #f4f7f6; margin: 0; padding: 20px; color: var(--grigio-testo); }
        .container { max-width: 500px; margin: auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        
        header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #f0f0f0; padding-bottom: 20px; }
        header h1 { color: var(--blu-news); margin: 0; font-size: 1.8rem; }
        header p { color: #666; font-size: 0.9rem; }

        .form-group { margin-bottom: 15px; }
        label { display: block; font-weight: bold; margin-bottom: 5px; font-size: 0.85rem; color: var(--blu-news); }
        input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 1rem; }
        
        .anteprima { background: #fff; border: 2px solid #eee; padding: 20px; border-radius: 12px; margin-top: 30px; text-align: center; }
        .anteprima h2 { font-size: 1.2rem; margin-top: 0; }
        #qrcode { display: flex; justify-content: center; margin: 20px 0; }
        
        .istruzioni { font-size: 0.8rem; color: #888; margin-top: 15px; line-height: 1.4; }
        .footer-brand { text-align: center; margin-top: 30px; font-size: 0.7rem; color: #bbb; text-transform: uppercase; letter-spacing: 1px; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>Il Tuo Biglietto Digitale</h1>
        <p>Servizio gratuito a cura di Massimo De Muro</p>
    </header>

    <div class="form-group">
        <label>Nome e Cognome</label>
        <input type="text" id="nome" placeholder="Es: Mario Rossi" oninput="genera()">
    </div>

    <div class="form-group">
        <label>Professione / Azienda</label>
        <input type="text" id="info" placeholder="Es: Giornalista / Editore" oninput="genera()">
    </div>

    <div class="form-group">
        <label>Telefono</label>
        <input type="tel" id="tel" placeholder="Es: 333 1234567" oninput="genera()">
    </div>

    <div class="form-group">
        <label>Sito Web o Social</label>
        <input type="url" id="sito" placeholder="Es: www.iltrovalibri.it" oninput="genera()">
    </div>

    <div class="anteprima">
        <h2 id="disp-nome">Anteprima Biglietto</h2>
        <div id="qrcode"></div>
        <p class="istruzioni">
            <strong>Come usarlo:</strong> Una volta compilato, fai uno screenshot a questa pagina o aggiungila alla schermata Home del tuo cellulare.
        </p>
    </div>

    <div class="footer-brand">Powered by Il TrovaLibri</div>
</div>

<script>
    function genera() {
        const nome = document.getElementById('nome').value || "Tuo Nome";
        const info = document.getElementById('info').value || "Tua Professione";
        const tel = document.getElementById('tel').value;
        const sito = document.getElementById('sito').value;

        // Aggiorna titolo anteprima
        document.getElementById('disp-nome').innerText = nome;

        // Formato vCard universale
        const vCard = `BEGIN:VCARD\nVERSION:3.0\nFN:${nome}\nORG:${info}\nTEL:${tel}\nURL:${sito}\nEND:VCARD`;

        // Pulisce e rigenera QR
        const qrContainer = document.getElementById("qrcode");
        qrContainer.innerHTML = "";
        new QRCode(qrContainer, {
            text: vCard,
            width: 200,
            height: 200,
            colorDark : "#003366",
            colorLight : "#ffffff"
        });
    }
    // Generazione iniziale
    genera();
</script>

</body>
</html>
